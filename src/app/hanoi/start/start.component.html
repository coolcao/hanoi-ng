<div
  class="flex h-full w-full items-center justify-center bg-gradient-to-br from-blue-50 to-purple-100 dark:from-gray-700 dark:to-gray-900">
  <div
    class="h-fit min-h-[600px] w-fit min-w-[800px] rounded-3xl bg-white/70 shadow-2xl backdrop-blur-lg dark:bg-gray-800/80">
    <div class="flex w-full justify-center p-10">
      <h1
        class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-5xl font-bold text-transparent dark:from-blue-400 dark:to-purple-400">
        汉诺塔
      </h1>
    </div>

    <div class="flex w-full justify-center px-20">
      <div class="text-gray-700 dark:text-gray-200">
        <h1
          class="mb-6 inline-block border-b-2 border-blue-500 pb-2 text-3xl font-bold">
          玩法说明
        </h1>
        <div class="space-y-4 text-lg">
          <!-- 统一所有说明项的样式 -->
          <p class="flex items-center">
            <span
              class="mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white"
              >1</span
            >
            汉诺塔有三个柱子，初始时，所有碟片都在左侧柱子。
          </p>
          <p class="flex items-center">
            <span
              class="mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white"
              >2</span
            >
            使用鼠标可拖动碟片到其他柱子，只能移动最上面的碟片。
          </p>
          <p class="flex items-center">
            <span
              class="mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white"
              >3</span
            >
            在移动时，只能小的碟片放到大的碟片上，而不能反过来。
          </p>
          <p class="flex items-center">
            <span
              class="mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white"
              >4</span
            >
            当所有碟片都移动到另外一个柱子上时（都移动到中间柱子或右侧柱子），游戏结束。
          </p>
          <p class="flex items-center">
            <span
              class="mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white"
              >5</span
            >
            游戏会记录操作步数，尽量用最少的步数完成碟片移动。
          </p>
          <p class="flex items-center">
            <span
              class="mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white"
              >6</span
            >
            碟片数量越多，步骤越多，难度越大。
          </p>
          <p class="flex items-center">
            <span
              class="mr-2 flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white"
              >7</span
            >
            双人模式下，谁先完成，谁获胜
          </p>
        </div>
      </div>
    </div>

    <div class="my-10 flex w-full items-center justify-center p-10">
      <!-- 单人模式 -->
      <div
        class="relative ml-10 flex h-30 w-1/3 items-center justify-center rounded-2xl bg-white shadow-lg transition-shadow duration-300 hover:shadow-xl dark:bg-gray-700">
        <div
          class="absolute top-5 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xl font-medium text-blue-600 dark:text-blue-400">
          单人模式
        </div>
        <button
          [routerLink]="['/', 'hanoi', 'single']"
          class="mt-5 mb-2 cursor-pointer rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-3 text-sm font-medium text-white transition-all duration-300 hover:from-blue-600 hover:to-purple-600">
          开始游戏
        </button>
      </div>

      <!-- 双人模式 -->
      <div
        class="relative ml-10 flex h-30 w-2/3 items-center justify-center rounded-2xl bg-white shadow-lg transition-shadow duration-300 hover:shadow-xl dark:bg-gray-700">
        <div
          class="absolute top-5 left-1/2 -translate-x-1/2 -translate-y-1/2 text-xl font-medium text-blue-600 dark:text-blue-400">
          双人模式
        </div>
        <div class="flex space-x-8">
          <button
            (click)="showCreate = true"
            class="mt-5 mb-2 cursor-pointer rounded-lg bg-gradient-to-r from-green-500 to-teal-500 px-6 py-3 text-sm font-medium text-white transition-all duration-300 hover:from-green-600 hover:to-teal-600">
            创建房间
          </button>
          <button
            (click)="showJoin = true"
            class="mt-5 mb-2 cursor-pointer rounded-lg bg-gradient-to-r from-pink-500 to-purple-500 px-6 py-3 text-sm font-medium text-white transition-all duration-300 hover:from-pink-600 hover:to-purple-600">
            加入房间
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="fixed inset-0 z-10 flex h-full w-full flex-col items-center justify-center bg-black/50 backdrop-blur-sm"
  *ngIf="showCreate">
  <div
    class="relative w-1/3 rounded-2xl bg-white/90 px-10 pt-10 shadow-2xl backdrop-blur-lg dark:bg-gray-700/90">
    <button
      (click)="showCreate = false"
      class="absolute top-3 right-4 cursor-pointer text-2xl text-gray-500 transition-colors duration-200 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100">
      ✕
    </button>
    <label
      for="size"
      class="mt-2 mb-1 block text-sm font-medium text-gray-900 dark:text-white"
      >碟片数量</label
    >
    <select
      [(ngModel)]="size"
      class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500">
      <option [ngValue]="3">3片</option>
      <option [ngValue]="4">4片</option>
      <option [ngValue]="5">5片</option>
      <option [ngValue]="6">6片</option>
      <option [ngValue]="7">7片</option>
      <option [ngValue]="8">8片</option>
      <option [ngValue]="9">9片</option>
    </select>
    <div class="my-10 flex w-full items-center justify-center">
      <button
        (click)="createRoom()"
        type="button"
        class="mx-10 me-2 mt-5 mb-2 cursor-pointer rounded-lg bg-green-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-green-800 focus:ring-4 focus:ring-green-300 focus:outline-none dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">
        创建房间
      </button>
    </div>
  </div>
</div>

<div
  class="fixed inset-0 z-10 flex h-full w-full flex-col items-center justify-center backdrop-blur-2xl"
  *ngIf="showJoin">
  <div
    class="relative w-1/3 rounded-2xl bg-gray-100 px-10 pt-10 dark:bg-gray-500">
    <button
      (click)="showJoin = false"
      class="absolute top-3 right-4 cursor-pointer text-2xl text-gray-400 dark:text-gray-300">
      ✕
    </button>
    <label
      for="first_name"
      class="mb-2 block text-sm font-medium text-gray-900 dark:text-white"
      >房间ID</label
    >
    <input
      type="text"
      id="peerId"
      class="block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"
      placeholder="请输入对方的房间ID"
      [(ngModel)]="peerId"
      required />

    <div class="my-10 flex w-full items-center justify-center">
      <button
        (click)="joinRoom()"
        type="button"
        class="mx-10 me-2 mt-5 mb-2 cursor-pointer rounded-lg bg-green-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-green-800 focus:ring-4 focus:ring-green-300 focus:outline-none dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800">
        加入房间
      </button>
    </div>
  </div>
</div>
